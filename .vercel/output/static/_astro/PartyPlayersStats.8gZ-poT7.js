import{u as n,a as i,j as s}from"./userStore.KU0otYFz.js";import{R as d,r as c}from"./index.DNi1g-pO.js";import{L as h}from"./partyStore.DVT2KFnO.js";const u=({playersItems:t})=>(n(i),s.jsx(d.Suspense,{children:s.jsx("section",{children:t.length>0?s.jsx("div",{className:"max-w-screen-2xl mx-auto bg-secondBackgroundColor  rounded-xl",children:s.jsx("div",{className:"relative h-max overflow-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm text-left",children:[s.jsx("thead",{className:"text-lightPrimaryColor font-medium border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-3 pr-6",children:"Username"}),s.jsx("th",{className:"py-3 pr-6",children:"Email"}),s.jsx("th",{className:"py-3 pr-6 text-center",children:"Goals"}),s.jsx("th",{className:"py-3 pr-6 text-center",children:"Victories"})]})}),s.jsx("tbody",{className:"text-textColor divide-y",children:t.map((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{className:"pr-6 py-4 whitespace-nowrap",children:e.userName}),s.jsx("td",{className:"pr-6 py-4 whitespace-nowrap",children:e.email}),s.jsx("td",{className:"pr-6 py-4 whitespace-nowrap text-center",children:e?.stats?.goals||0}),s.jsx("td",{className:"pr-6 py-4 whitespace-nowrap text-center",children:e?.stats?.victory||0})]},a))})]})})}):s.jsx(h,{})})})),w=({playersData:t,partyData:e})=>{n(i);const[a,x]=c.useState(t),[l,j]=c.useState(e);return c.useEffect(()=>{console.log("playersData",t)},[e]),c.useEffect(()=>{x(t.map(r=>{const m=l?.stats?.find(o=>o.userId===r.id)?.goals||0,p=l?.stats?.find(o=>o.userId===r.id)?.victory||0;return{...r,stats:{userId:r.id,goals:m,victory:p}}}))},[l]),s.jsx(s.Fragment,{children:a?s.jsxs("section",{className:"max-w-screen-2xl md:mx-auto px-4 md:px-8 bg-secondBackgroundColor mt-8 p-4 rounded-xl mx-2",children:[s.jsx("span",{className:"text-titleColor text-2xl",children:"Caima players"}),s.jsx(d.Suspense,{children:s.jsx(u,{playersItems:a})})]}):"CARGANDO"})};export{w as PartyPlayersStats};
