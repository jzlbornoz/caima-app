import{u as o,j as e,a as m}from"./userStore.C5SZqrV9.js";import{L as p}from"./Loader.85YATpRh.js";import{p as n,r as u,g as h}from"./partyStore.DnrMZrQV.js";import{r as y}from"./index.BiFHKRHA.js";const j=()=>{const t=o(n);return e.jsx("section",{children:t?.stats?.length>0?e.jsx("div",{className:"max-w-screen-2xl mx-auto bg-secondBackgroundColor  rounded-xl",children:e.jsx("div",{className:"relative h-max overflow-auto",children:e.jsxs("table",{className:"w-full table-auto text-sm text-left",children:[e.jsx("thead",{className:"text-lightPrimaryColor font-medium border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 pr-6",children:"Username"}),e.jsx("th",{className:"py-3 pr-6 text-center",children:"Goals"}),e.jsx("th",{className:"py-3 pr-6 text-center",children:"Victories"})]})}),e.jsx("tbody",{className:"text-textColor divide-y",children:t?.stats?.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"pr-6 py-4 whitespace-nowrap",children:s?.user?.userName}),e.jsx("td",{className:"pr-6 py-4 whitespace-nowrap text-center",children:s?.goals||0}),e.jsx("td",{className:"pr-6 py-4 whitespace-nowrap text-center",children:s?.victory||0})]},r))})]})})}):e.jsx(p,{})})},g=()=>{const t=o(n),s=(r,l,a,d=!1)=>{const c=t?.stats?.map((i,x)=>x===r?{...i,[a]:l}:{...i});n.set({...t,stats:c}),d&&u(t,c)};return e.jsxs("ul",{className:"mt-12 divide-y",children:[e.jsxs("li",{className:"py-5 flex items-center justify-around",children:[e.jsx("span",{className:"block text-sm text-lightPrimaryColor font-extrabold w-1/5 overflow-hidden",children:"Player"}),e.jsx("div",{className:"relative text-lightSecondaryColor w- w-1/4 text-left",children:"Goals"}),e.jsx("div",{className:"relative  text-lightSecondaryColor w-1/4 text-left",children:"Victories"})]}),t?.stats?.map((r,l)=>e.jsxs("li",{className:"py-5 flex items-center justify-around",children:[e.jsx("span",{className:"block text-sm text-lightPrimaryColor font-extrabold w-1/5 overflow-hidden",children:r?.user?.userName}),e.jsx("div",{className:"relative mt-2  text-gray-500 w- w-1/4",children:e.jsx("input",{type:"number",placeholder:"0",className:"w-full  px-3 py-2 appearance-none bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg",onBlur:a=>s(l,parseInt(a.target.value||"0"),"goals",!0),onChange:a=>s(l,parseInt(a.target.value||"0"),"goals"),value:r?.goals||""})}),e.jsx("div",{className:"relative mt-2  text-gray-500 w-1/4",children:e.jsx("input",{type:"number",placeholder:"0",className:"w-full  px-3 py-2 appearance-none bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg",onChange:a=>s(l,parseInt(a.target.value||"0"),"victory"),onBlur:a=>s(l,parseInt(a.target.value||"0"),"victory",!0),value:r?.victory||""})})]}))]})},b=({partyId:t})=>{const s=o(m);return y.useEffect(()=>{h(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"max-w-screen-2xl md:mx-auto px-4 md:px-8 bg-secondBackgroundColor mt-8 p-4 rounded-xl mx-2",children:[e.jsx("span",{className:"text-titleColor text-2xl",children:"Caima players"}),e.jsx(j,{})]}),s.isAdmin&&e.jsxs("section",{className:"max-w-screen-2xl md:mx-auto px-4 md:px-8 bg-secondBackgroundColor mt-8 p-4 rounded-xl mx-2",children:[e.jsx("span",{className:"text-titleColor text-2xl",children:"Goals and Victories"}),e.jsx(g,{})]})]})};export{b as PartyPlayersStats};
